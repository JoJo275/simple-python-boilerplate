# =============================================================================
# Docker Compose Configuration
# =============================================================================
# Provides a convenient way to build and run the application container locally.
#
# Usage:
#   docker compose up --build       # Build and run in foreground
#   docker compose up -d --build    # Build and run in background
#   docker compose down             # Stop and remove containers
#   docker compose logs -f          # Follow logs
#
# This uses the production Containerfile, not the dev container.
# For development, use the VS Code Dev Container instead.
#
# See: https://docs.docker.com/compose/
# =============================================================================

services:
  app:
    build:
      context: .
      dockerfile: Containerfile
    image: simple-python-boilerplate:local
    container_name: simple-python-boilerplate

    # Uncomment to expose ports (e.g., if this becomes a web service)
    # ports:
    #   - "8000:8000"

    # Uncomment to mount local files for development
    # volumes:
    #   - ./src:/app/src:ro

    # Uncomment to set environment variables
    # environment:
    #   - LOG_LEVEL=INFO
    #   - DATABASE_URL=sqlite:///var/app.sqlite3

    # Uncomment if you have a .env file
    # env_file:
    #   - .env

    # Restart policy for production
    # restart: unless-stopped

    # Resource limits (optional)
    # deploy:
    #   resources:
    #     limits:
    #       cpus: '0.5'
    #       memory: 256M

# Uncomment to add a database service
# services:
#   db:
#     image: postgres:16-alpine
#     environment:
#       POSTGRES_USER: app
#       POSTGRES_PASSWORD: changeme
#       POSTGRES_DB: app
#     volumes:
#       - db_data:/var/lib/postgresql/data
#     ports:
#       - "5432:5432"

# Uncomment if using volumes
# volumes:
#   db_data:
